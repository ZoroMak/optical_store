<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org" lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!--<link rel = "icon" type = "images/x-icon" href = "/img/icon.ico">-->
    <link rel = "stylesheet" href="/css/style.css">
</head>

<body>
<main>
    <div class="circle"></div>
    <div class="refister-form-container">
        <div class="square" style="--i:0;"></div>
        <div class="square" style="--i:1;"></div>
        <div class="square" style="--i:2;"></div>
        <div class="square" style="--i:3;"></div>
        <div class="square" style="--i:4;"></div>
        <div class="square" style="--i:5;"></div>

        <h1 class="form-title">Регистрация</h1>
        <div class="form-fields">
            <form id="registrationForm" th:action="@{/registUser}" method="post">

                <label for="name" class="inform"></label>
                <input type="text" placeholder="Имя" name="name" id="name" required pattern="[A-Za-zА-Яа-яЁё]+">

                <label for="surname" class="inform"></label>
                <input type="text" placeholder="Фамилия" name="surname" id="surname" required pattern="[A-Za-zА-Яа-яЁё]+">

                <label for="mail" class="inform"></label>
                <input type="email" placeholder="Электронная почта" name="mail" id="mail" required>

                <label for="password" class="inform"></label>
                <input type="password" placeholder="Пароль" name="password" id="password" required>

                <label for="repeate-password" class="inform"></label>
                <input type="password" placeholder="Повторите пароль" name="repeate-password" id="repeate-password" required>

                <label for="date" class="inform">Дата рождения</label>
                <input type="date" placeholder="Дата рождения" name="date" id="date" required min="1900-01-01" max="2050-12-31">

                <button type="submit"  class="button">Регистрация</button>
            </form>
        </div>
    </div>
</main>
<script>
    document.getElementById("registrationForm").addEventListener("submit", function(event) {
        var password = document.getElementById("password").value;
        var repeatPassword = document.getElementById("repeate-password").value;

        if (password !== repeatPassword) {
            alert("Пароли не совпадают");
            event.preventDefault();
        }


        localStorage.setItem("emailTaken", true);
    });
</script>

<script>
    var emailTaken = localStorage.getItem("emailTaken");
    if (emailTaken) {
        alert("Email уже занят");
        localStorage.setItem("emailTaken", false);
    }
</script>
</body>
</html>